<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log In</title>
    <link rel="stylesheet" href="../style1.css">
</head>

<body>
    <nav>
        <div class="menu">
            <div class="logo">
                <a href="#">NachDaTee</a>
            </div>
            <ul>
                <!-- เมนูที่ปิดการใช้งานไว้ -->
            </ul>
        </div>
    </nav>
    <div class="wrapper login">
        <div class="container">
            <div class="col-left">
                <div class="login-text">
                    <h2>Welcome!</h2>
                    <p>Create your account.<br>For Free!</p>
                    <a href="Sign up.html" class="btn">Sign Up</a>
                </div>
            </div>

            <div class="col-right">
                <div class="login-form">
                    <h2>Login</h2>
                    <form id="loginForm">
                        <p>
                            <label>Username/Email address<span>*</span></label>
                            <input type="text" 
                                   id="username" 
                                   name="username" 
                                   placeholder="Username or Email" 
                                   pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}|[a-zA-Z0-9_]+" 
                                   title="กรอกอีเมลหรือชื่อผู้ใช้ที่ถูกต้อง" 
                                   required>
                        </p>
                        <p>
                            <label>Password<span>*</span></label>
                            <input type="password" 
                                   id="password" 
                                   name="password" 
                                   placeholder="Password" 
                                   required>
                        </p>
                        <p>
                            <label>
                                <input type="checkbox" name="remember"> จดจำฉันไว้
                            </label>
                        </p>
                        <p>
                            <input type="submit" value="Sign In">
                        </p>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
    document.getElementById('loginForm').addEventListener('submit', function(event) {
        event.preventDefault(); // หยุดการส่งฟอร์มแบบปกติ

        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        const remember = document.querySelector('input[name="remember"]').checked;

        // ตรวจสอบข้อมูลเบื้องต้น
        if (!username || !password) {
            alert('กรุณากรอกชื่อผู้ใช้และรหัสผ่าน');
            return;
        }

        // จำลองการส่งข้อมูลไปยัง backend คุณต้องแทนที่ด้วย URL backend จริง
        fetch('https://yourbackend.com/api/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ 
                username,
                password,
                remember
            })
        })
        .then(response => {
            if (response.ok) {
                // หากล็อกอินสำเร็จ ให้ไปหน้า Home
                window.location.href = 'All file.html';
            } else {
                // กรณีล็อกอินไม่สำเร็จ
                alert('ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง');
            }
        })
        .catch(error => {
            console.error('เกิดข้อผิดพลาด:', error);
            alert('เกิดข้อผิดพลาดในการเข้าสู่ระบบ');
        });
    });
    </script>
</body>
</html>